<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.6.39">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>lecture1-data-analysis-quickstart</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { display: inline-block; text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.min.js" integrity="sha512-bLT0Qm9VnAYZDflyKcBaQ2gg0hSYNQrJ8RilYldYQ1FxQYoCLtUjuuRuZo+fjqhx/qtq/1itJ0C2ejDxltZVFg==" crossorigin="anonymous"></script><script src="../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../site_libs/clipboard/clipboard.min.js"></script>
<script src="../site_libs/quarto-html/quarto.js"></script>
<script src="../site_libs/quarto-html/popper.min.js"></script>
<script src="../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../site_libs/quarto-html/anchor.min.js"></script>
<link href="../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting-e26003cea8cd680ca0c55a263523d882.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../site_libs/bootstrap/bootstrap-72d5d2b44bfddbcb81d6511eeb186058.min.css" rel="stylesheet" append-hash="true" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" integrity="sha512-c3Nl8+7g4LMSTdrm621y7kf9v3SDPnhxLNhcjFJbKECVnmZHTdo+IRO05sNLTH/D3vA6u1X32ehoLC7WFVdheg==" crossorigin="anonymous"></script>

<script type="application/javascript">define('jquery', [],function() {return window.jQuery;})</script>


<link rel="stylesheet" href="../styles/index.css">
</head>

<body class="nav-fixed fullcontent">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" role="menu" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link" href="../index.html"> 
<span class="menu-text">Index</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../about.html"> 
<span class="menu-text">About Me</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../homework.html"> 
<span class="menu-text">Homework</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../labs.html"> 
<span class="menu-text">Labs</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../practice.html"> 
<span class="menu-text">Practice</span></a>
  </li>  
</ul>
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item compact">
    <a class="nav-link" href="https://github.com/YANGFAN5203/super-duper-dollop/blob/main/code-basics.ipynb"> <i class="bi bi-github" role="img">
</i> 
<span class="menu-text"></span></a>
  </li>  
</ul>
          </div> <!-- /navcollapse -->
            <div class="quarto-navbar-tools">
</div>
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    
<!-- main -->
<main class="content" id="quarto-document-content"><header id="title-block-header" class="quarto-title-block"></header>




<p>(data-quickstart)= # Data Analysis Quickstart</p>
<section id="introduction" class="level2">
<h2 class="anchored" data-anchor-id="introduction">Introduction</h2>
<p>Here we’ll do a whistlestop tour of data analysis in Python using a structure called a <em>dataframe</em>. Dataframes do everything a spreadsheet does, and a <em>whole lot more</em>. At their simplest, dataframes are a tabular representation of data with rows and columns. The data in each column can be anything; text, numbers, Python objects such as lists or dictionaries, or even other dataframes!</p>
<p>The ability to extract, clean, and analyse data is one of the core skills any economist needs. Fortunately, the (open source) tools that are available for data analysis have improved enormously in recent years, and working with them can be a delight——even the most badly formatted data can be beaten into shape. You may be sceptical that these open source tools can be as powerful as the costly, closed source tools you may already know: but, over time, you’ll come to see how they do far, far more, and do it faster too.</p>
<p>In this chapter, we’ll see analysis on a <em>single</em> dataframe using the Star Wars’ characters dataset as an example. For a more thorough grounding in using data, see the next chapter ({ref}<code>working-with-data</code>).</p>
<p>This chapter uses the <a href="https://pandas.pydata.org/"><strong>pandas</strong></a> and <a href="https://numpy.org/"><strong>numpy</strong></a> packages. If you’re running this code, you may need to install these packages. The Anaconda distribution of Python comes with <strong>pandas</strong> and <strong>numpy</strong> installed. If you don’t have these installed, you can install them by running either <code>conda install packagename</code> or <code>pip install packagename</code> on your computer’s command line. You can find a brief guide to installing packages in {ref}<code>code-preliminaries</code>.</p>
<p>This chapter is hugely indebted to the fantastic <a href="https://jakevdp.github.io/PythonDataScienceHandbook/">Python Data Science Handbook</a>, and both the <strong>pandas</strong> <a href="https://pandas.pydata.org/docs/user_guide/index.html">documentation</a> and amazing <a href="https://pandas.pydata.org/pandas-docs/stable/getting_started/intro_tutorials/index.html">introductory tutorials</a>.</p>
</section>
<section id="loading-data-and-checking-datatypes" class="level2">
<h2 class="anchored" data-anchor-id="loading-data-and-checking-datatypes">Loading data and checking datatypes</h2>
<p>First we must import the packages we’ll be using in the rest of this chapter.</p>
<div id="cell-2" class="cell" data-execution_count="1">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="op">%</span>pip install pandas numpy matplotlib</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Requirement already satisfied: pandas in e:\anaconda\lib\site-packages (2.2.2)
Requirement already satisfied: numpy in e:\anaconda\lib\site-packages (1.26.4)
Requirement already satisfied: matplotlib in e:\anaconda\lib\site-packages (3.8.4)
Requirement already satisfied: python-dateutil&gt;=2.8.2 in e:\anaconda\lib\site-packages (from pandas) (2.9.0.post0)
Requirement already satisfied: pytz&gt;=2020.1 in e:\anaconda\lib\site-packages (from pandas) (2024.1)
Requirement already satisfied: tzdata&gt;=2022.7 in e:\anaconda\lib\site-packages (from pandas) (2023.3)
Requirement already satisfied: contourpy&gt;=1.0.1 in e:\anaconda\lib\site-packages (from matplotlib) (1.2.0)
Requirement already satisfied: cycler&gt;=0.10 in e:\anaconda\lib\site-packages (from matplotlib) (0.11.0)
Requirement already satisfied: fonttools&gt;=4.22.0 in e:\anaconda\lib\site-packages (from matplotlib) (4.51.0)
Requirement already satisfied: kiwisolver&gt;=1.3.1 in e:\anaconda\lib\site-packages (from matplotlib) (1.4.4)
Requirement already satisfied: packaging&gt;=20.0 in e:\anaconda\lib\site-packages (from matplotlib) (23.2)
Requirement already satisfied: pillow&gt;=8 in e:\anaconda\lib\site-packages (from matplotlib) (10.3.0)
Requirement already satisfied: pyparsing&gt;=2.3.1 in e:\anaconda\lib\site-packages (from matplotlib) (3.0.9)
Requirement already satisfied: six&gt;=1.5 in e:\anaconda\lib\site-packages (from python-dateutil&gt;=2.8.2-&gt;pandas) (1.16.0)
Note: you may need to restart the kernel to use updated packages.</code></pre>
</div>
</div>
<div id="cell-3" class="cell" data-execution_count="2">
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> pandas <span class="im">as</span> pd</span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> numpy <span class="im">as</span> np</span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> matplotlib.pyplot <span class="im">as</span> plt</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="cell-4" class="cell" data-execution_count="3">
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> pandas <span class="im">as</span> pd</span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> numpy <span class="im">as</span> np</span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> matplotlib.pyplot <span class="im">as</span> plt</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="cell-5" class="cell" data-execution_count="4">
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Set seed for random numbers</span></span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a>seed_for_prng <span class="op">=</span> <span class="dv">78557</span></span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a>prng <span class="op">=</span> np.random.default_rng(seed_for_prng)  <span class="co"># prng=probabilistic random number generator</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="cell-6" class="cell" data-execution_count="5">
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Set seed for random numbers</span></span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a>seed_for_prng <span class="op">=</span> <span class="dv">78557</span></span>
<span id="cb6-3"><a href="#cb6-3" aria-hidden="true" tabindex="-1"></a>prng <span class="op">=</span> np.random.default_rng(seed_for_prng)  <span class="co"># prng=probabilistic random number generator</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="cell-8" class="cell" data-execution_count="7">
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> matplotlib_inline.backend_inline</span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Plot settings</span></span>
<span id="cb7-4"><a href="#cb7-4" aria-hidden="true" tabindex="-1"></a>plt.style.use(</span>
<span id="cb7-5"><a href="#cb7-5" aria-hidden="true" tabindex="-1"></a>    <span class="st">"https://github.com/aeturrell/coding-for-economists/raw/main/plot_style.txt"</span></span>
<span id="cb7-6"><a href="#cb7-6" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb7-7"><a href="#cb7-7" aria-hidden="true" tabindex="-1"></a>matplotlib_inline.backend_inline.set_matplotlib_formats(<span class="st">"svg"</span>)</span>
<span id="cb7-8"><a href="#cb7-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-9"><a href="#cb7-9" aria-hidden="true" tabindex="-1"></a><span class="co"># Set max rows displayed for readability</span></span>
<span id="cb7-10"><a href="#cb7-10" aria-hidden="true" tabindex="-1"></a>pd.set_option(<span class="st">"display.max_rows"</span>, <span class="dv">20</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Loading data into a dataframe is achieved with commands like <code>df = pd.read_csv(...)</code> or <code>df = pd.read_stata(...)</code>. Let’s load the Star Wars data from the internet:</p>
<div id="cell-10" class="cell" data-execution_count="8">
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a>df <span class="op">=</span> (pd.read_csv(</span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a>    <span class="st">"https://github.com/aeturrell/coding-for-economists/raw/main/data/starwars.csv"</span>,</span>
<span id="cb8-3"><a href="#cb8-3" aria-hidden="true" tabindex="-1"></a>    index_col<span class="op">=</span><span class="dv">0</span>,</span>
<span id="cb8-4"><a href="#cb8-4" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb8-5"><a href="#cb8-5" aria-hidden="true" tabindex="-1"></a>    .dropna(subset<span class="op">=</span>[<span class="st">"species"</span>])</span>
<span id="cb8-6"><a href="#cb8-6" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb8-7"><a href="#cb8-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Check info about dataframe</span></span>
<span id="cb8-8"><a href="#cb8-8" aria-hidden="true" tabindex="-1"></a>df.info()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>&lt;class 'pandas.core.frame.DataFrame'&gt;
Index: 82 entries, 0 to 86
Data columns (total 8 columns):
 #   Column      Non-Null Count  Dtype  
---  ------      --------------  -----  
 0   name        82 non-null     object 
 1   height      77 non-null     float64
 2   mass        58 non-null     float64
 3   hair_color  77 non-null     object 
 4   eye_color   80 non-null     object 
 5   gender      79 non-null     object 
 6   homeworld   74 non-null     object 
 7   species     82 non-null     object 
dtypes: float64(2), object(6)
memory usage: 5.8+ KB</code></pre>
</div>
</div>
<div id="cell-11" class="cell" data-execution_count="9">
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a>df <span class="op">=</span> (pd.read_csv(</span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a>    <span class="st">"https://github.com/aeturrell/coding-for-economists/raw/main/data/starwars.csv"</span>,</span>
<span id="cb10-3"><a href="#cb10-3" aria-hidden="true" tabindex="-1"></a>    index_col<span class="op">=</span><span class="dv">0</span>,</span>
<span id="cb10-4"><a href="#cb10-4" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb10-5"><a href="#cb10-5" aria-hidden="true" tabindex="-1"></a>    .dropna(subset<span class="op">=</span>[<span class="st">"species"</span>])</span>
<span id="cb10-6"><a href="#cb10-6" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb10-7"><a href="#cb10-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Check info about dataframe</span></span>
<span id="cb10-8"><a href="#cb10-8" aria-hidden="true" tabindex="-1"></a>df.info()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>&lt;class 'pandas.core.frame.DataFrame'&gt;
Index: 82 entries, 0 to 86
Data columns (total 8 columns):
 #   Column      Non-Null Count  Dtype  
---  ------      --------------  -----  
 0   name        82 non-null     object 
 1   height      77 non-null     float64
 2   mass        58 non-null     float64
 3   hair_color  77 non-null     object 
 4   eye_color   80 non-null     object 
 5   gender      79 non-null     object 
 6   homeworld   74 non-null     object 
 7   species     82 non-null     object 
dtypes: float64(2), object(6)
memory usage: 5.8+ KB</code></pre>
</div>
</div>
<section id="look-at-the-first-few-rows-with-head" class="level3">
<h3 class="anchored" data-anchor-id="look-at-the-first-few-rows-with-head">Look at the first few rows with <code>head()</code></h3>
<div id="cell-13" class="cell" data-execution_count="10">
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a>df.head()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="10">
<div>


<table class="dataframe caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">name</th>
<th data-quarto-table-cell-role="th">height</th>
<th data-quarto-table-cell-role="th">mass</th>
<th data-quarto-table-cell-role="th">hair_color</th>
<th data-quarto-table-cell-role="th">eye_color</th>
<th data-quarto-table-cell-role="th">gender</th>
<th data-quarto-table-cell-role="th">homeworld</th>
<th data-quarto-table-cell-role="th">species</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">0</td>
<td>Luke Skywalker</td>
<td>172.0</td>
<td>77.0</td>
<td>blond</td>
<td>blue</td>
<td>male</td>
<td>Tatooine</td>
<td>Human</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">1</td>
<td>C-3PO</td>
<td>167.0</td>
<td>75.0</td>
<td>NaN</td>
<td>yellow</td>
<td>NaN</td>
<td>Tatooine</td>
<td>Droid</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">2</td>
<td>R2-D2</td>
<td>96.0</td>
<td>32.0</td>
<td>NaN</td>
<td>red</td>
<td>NaN</td>
<td>Naboo</td>
<td>Droid</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">3</td>
<td>Darth Vader</td>
<td>202.0</td>
<td>136.0</td>
<td>none</td>
<td>yellow</td>
<td>male</td>
<td>Tatooine</td>
<td>Human</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">4</td>
<td>Leia Organa</td>
<td>150.0</td>
<td>49.0</td>
<td>brown</td>
<td>brown</td>
<td>female</td>
<td>Alderaan</td>
<td>Human</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
<p><code>dyryajoflcmu Exercise What happens if you pass a number to `head()`, eg `head(10)`?</code></p>
<div id="cell-15" class="cell" data-execution_count="11">
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a>df.head()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="11">
<div>


<table class="dataframe caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">name</th>
<th data-quarto-table-cell-role="th">height</th>
<th data-quarto-table-cell-role="th">mass</th>
<th data-quarto-table-cell-role="th">hair_color</th>
<th data-quarto-table-cell-role="th">eye_color</th>
<th data-quarto-table-cell-role="th">gender</th>
<th data-quarto-table-cell-role="th">homeworld</th>
<th data-quarto-table-cell-role="th">species</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">0</td>
<td>Luke Skywalker</td>
<td>172.0</td>
<td>77.0</td>
<td>blond</td>
<td>blue</td>
<td>male</td>
<td>Tatooine</td>
<td>Human</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">1</td>
<td>C-3PO</td>
<td>167.0</td>
<td>75.0</td>
<td>NaN</td>
<td>yellow</td>
<td>NaN</td>
<td>Tatooine</td>
<td>Droid</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">2</td>
<td>R2-D2</td>
<td>96.0</td>
<td>32.0</td>
<td>NaN</td>
<td>red</td>
<td>NaN</td>
<td>Naboo</td>
<td>Droid</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">3</td>
<td>Darth Vader</td>
<td>202.0</td>
<td>136.0</td>
<td>none</td>
<td>yellow</td>
<td>male</td>
<td>Tatooine</td>
<td>Human</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">4</td>
<td>Leia Organa</td>
<td>150.0</td>
<td>49.0</td>
<td>brown</td>
<td>brown</td>
<td>female</td>
<td>Alderaan</td>
<td>Human</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
</section>
</section>
<section id="filter-rows-and-columns-with-conditions-using-df.locconditions-or-rows-columns" class="level2">
<h2 class="anchored" data-anchor-id="filter-rows-and-columns-with-conditions-using-df.locconditions-or-rows-columns">Filter rows and columns with conditions using <code>df.loc[condition(s) or row(s), column(s)]</code></h2>
<p><code>.loc</code> stands for location and allows you to filter (aka subset) a dataframe. <code>.loc</code> works like an index, so it always comes with square brackets, eg <code>df.loc[...]</code>.</p>
<p><code>loc</code> takes two arguments. The first is a list of the names of the rows that you’d like to select <em>or</em> a condition (ie a list of booleans with the same length as the dataframe) that selects certain rows. Remember, you can easily create a series of booleans by checking a column against a condition, for example <code>df['column1'] == 'black'</code>.</p>
<p>The second argument consists of a list of column names you’d like to select. In both cases, <code>:</code> is shorthand for ‘use all rows’ or ‘use all columns’. If you have <em>either</em> condition(s) <em>or</em> column(s) (but not both), you can simply write <code>df[condition(s)]</code> or <code>df[column(s)]</code>.</p>
<p>Here’s an example with a condition built up out of two parts and a list of columns:</p>
<div id="cell-17" class="cell" data-execution_count="12">
<div class="sourceCode cell-code" id="cb14"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a>df.loc[(df[<span class="st">"hair_color"</span>] <span class="op">==</span> <span class="st">"brown"</span>) <span class="op">&amp;</span> (df[<span class="st">"eye_color"</span>] <span class="op">==</span> <span class="st">"blue"</span>), [<span class="st">"name"</span>, <span class="st">"species"</span>]]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="12">
<div>


<table class="dataframe caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">name</th>
<th data-quarto-table-cell-role="th">species</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">6</td>
<td>Beru Whitesun lars</td>
<td>Human</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">12</td>
<td>Chewbacca</td>
<td>Wookiee</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">17</td>
<td>Jek Tono Porkins</td>
<td>Human</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">30</td>
<td>Qui-Gon Jinn</td>
<td>Human</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">58</td>
<td>Cliegg Lars</td>
<td>Human</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">77</td>
<td>Tarfful</td>
<td>Wookiee</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
<div id="cell-18" class="cell" data-execution_count="13">
<div class="sourceCode cell-code" id="cb15"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a>df.loc[(df[<span class="st">"hair_color"</span>] <span class="op">==</span> <span class="st">"brown"</span>) <span class="op">&amp;</span> (df[<span class="st">"eye_color"</span>] <span class="op">==</span> <span class="st">"blue"</span>), [<span class="st">"name"</span>, <span class="st">"species"</span>]]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="13">
<div>


<table class="dataframe caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">name</th>
<th data-quarto-table-cell-role="th">species</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">6</td>
<td>Beru Whitesun lars</td>
<td>Human</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">12</td>
<td>Chewbacca</td>
<td>Wookiee</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">17</td>
<td>Jek Tono Porkins</td>
<td>Human</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">30</td>
<td>Qui-Gon Jinn</td>
<td>Human</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">58</td>
<td>Cliegg Lars</td>
<td>Human</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">77</td>
<td>Tarfful</td>
<td>Wookiee</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
<p><code>dyryajoflcmu Exercise Using `loc`, filter the dataframe to `mass` greater than 50 for the `name` and `homeworld` columns</code></p>
<div id="cell-20" class="cell" data-execution_count="17">
<div class="sourceCode cell-code" id="cb16"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a>df.loc[(df[<span class="st">'mass'</span>] <span class="op">&gt;</span> <span class="dv">50</span>), [<span class="st">'name'</span>, <span class="st">'homeworld'</span>]]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="17">
<div>


<table class="dataframe caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">name</th>
<th data-quarto-table-cell-role="th">homeworld</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">0</td>
<td>Luke Skywalker</td>
<td>Tatooine</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">1</td>
<td>C-3PO</td>
<td>Tatooine</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">3</td>
<td>Darth Vader</td>
<td>Tatooine</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">5</td>
<td>Owen Lars</td>
<td>Tatooine</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">6</td>
<td>Beru Whitesun lars</td>
<td>Tatooine</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">...</td>
<td>...</td>
<td>...</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">75</td>
<td>Shaak Ti</td>
<td>Shili</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">76</td>
<td>Grievous</td>
<td>Kalee</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">77</td>
<td>Tarfful</td>
<td>Kashyyyk</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">78</td>
<td>Raymus Antilles</td>
<td>Alderaan</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">80</td>
<td>Tion Medon</td>
<td>Utapau</td>
</tr>
</tbody>
</table>

<p>46 rows × 2 columns</p>
</div>
</div>
</div>
<div id="cell-21" class="cell" data-execution_count="14">
<div class="sourceCode cell-code" id="cb17"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a>df.loc[(df[<span class="st">'mass'</span>] <span class="op">&gt;</span> <span class="dv">50</span>), [<span class="st">'name'</span>, <span class="st">'homeworld'</span>]]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="14">
<div>


<table class="dataframe caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">name</th>
<th data-quarto-table-cell-role="th">homeworld</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">0</td>
<td>Luke Skywalker</td>
<td>Tatooine</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">1</td>
<td>C-3PO</td>
<td>Tatooine</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">3</td>
<td>Darth Vader</td>
<td>Tatooine</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">5</td>
<td>Owen Lars</td>
<td>Tatooine</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">6</td>
<td>Beru Whitesun lars</td>
<td>Tatooine</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">...</td>
<td>...</td>
<td>...</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">75</td>
<td>Shaak Ti</td>
<td>Shili</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">76</td>
<td>Grievous</td>
<td>Kalee</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">77</td>
<td>Tarfful</td>
<td>Kashyyyk</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">78</td>
<td>Raymus Antilles</td>
<td>Alderaan</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">80</td>
<td>Tion Medon</td>
<td>Utapau</td>
</tr>
</tbody>
</table>

<p>46 rows × 2 columns</p>
</div>
</div>
</div>
</section>
<section id="sort-rows-or-columns-with-.sort_values" class="level2">
<h2 class="anchored" data-anchor-id="sort-rows-or-columns-with-.sort_values">Sort rows or columns with <code>.sort_values()</code></h2>
<p>Use <code>sort_values(columns, ascending=False)</code> for descending order.</p>
<div id="cell-23" class="cell" data-execution_count="18">
<div class="sourceCode cell-code" id="cb18"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a>df.sort_values([<span class="st">"height"</span>, <span class="st">"mass"</span>])</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="18">
<div>


<table class="dataframe caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">name</th>
<th data-quarto-table-cell-role="th">height</th>
<th data-quarto-table-cell-role="th">mass</th>
<th data-quarto-table-cell-role="th">hair_color</th>
<th data-quarto-table-cell-role="th">eye_color</th>
<th data-quarto-table-cell-role="th">gender</th>
<th data-quarto-table-cell-role="th">homeworld</th>
<th data-quarto-table-cell-role="th">species</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">18</td>
<td>Yoda</td>
<td>66.0</td>
<td>17.0</td>
<td>white</td>
<td>brown</td>
<td>male</td>
<td>NaN</td>
<td>Yoda's species</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">71</td>
<td>Ratts Tyerell</td>
<td>79.0</td>
<td>15.0</td>
<td>none</td>
<td>NaN</td>
<td>male</td>
<td>Aleen Minor</td>
<td>Aleena</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">28</td>
<td>Wicket Systri Warrick</td>
<td>88.0</td>
<td>20.0</td>
<td>brown</td>
<td>brown</td>
<td>male</td>
<td>Endor</td>
<td>Ewok</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">44</td>
<td>Dud Bolt</td>
<td>94.0</td>
<td>45.0</td>
<td>none</td>
<td>yellow</td>
<td>male</td>
<td>Vulpter</td>
<td>Vulptereen</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">2</td>
<td>R2-D2</td>
<td>96.0</td>
<td>32.0</td>
<td>NaN</td>
<td>red</td>
<td>NaN</td>
<td>Naboo</td>
<td>Droid</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">27</td>
<td>Arvel Crynyd</td>
<td>NaN</td>
<td>NaN</td>
<td>brown</td>
<td>brown</td>
<td>male</td>
<td>NaN</td>
<td>Human</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">81</td>
<td>Finn</td>
<td>NaN</td>
<td>NaN</td>
<td>black</td>
<td>dark</td>
<td>male</td>
<td>NaN</td>
<td>Human</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">82</td>
<td>Rey</td>
<td>NaN</td>
<td>NaN</td>
<td>brown</td>
<td>hazel</td>
<td>female</td>
<td>NaN</td>
<td>Human</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">83</td>
<td>Poe Dameron</td>
<td>NaN</td>
<td>NaN</td>
<td>brown</td>
<td>brown</td>
<td>male</td>
<td>NaN</td>
<td>Human</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">84</td>
<td>BB8</td>
<td>NaN</td>
<td>NaN</td>
<td>none</td>
<td>black</td>
<td>none</td>
<td>NaN</td>
<td>Droid</td>
</tr>
</tbody>
</table>

<p>82 rows × 8 columns</p>
</div>
</div>
</div>
<div id="cell-24" class="cell" data-execution_count="15">
<div class="sourceCode cell-code" id="cb19"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a>df.sort_values([<span class="st">"height"</span>, <span class="st">"mass"</span>])</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="15">
<div>


<table class="dataframe caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">name</th>
<th data-quarto-table-cell-role="th">height</th>
<th data-quarto-table-cell-role="th">mass</th>
<th data-quarto-table-cell-role="th">hair_color</th>
<th data-quarto-table-cell-role="th">eye_color</th>
<th data-quarto-table-cell-role="th">gender</th>
<th data-quarto-table-cell-role="th">homeworld</th>
<th data-quarto-table-cell-role="th">species</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">18</td>
<td>Yoda</td>
<td>66.0</td>
<td>17.0</td>
<td>white</td>
<td>brown</td>
<td>male</td>
<td>NaN</td>
<td>Yoda's species</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">71</td>
<td>Ratts Tyerell</td>
<td>79.0</td>
<td>15.0</td>
<td>none</td>
<td>NaN</td>
<td>male</td>
<td>Aleen Minor</td>
<td>Aleena</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">28</td>
<td>Wicket Systri Warrick</td>
<td>88.0</td>
<td>20.0</td>
<td>brown</td>
<td>brown</td>
<td>male</td>
<td>Endor</td>
<td>Ewok</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">44</td>
<td>Dud Bolt</td>
<td>94.0</td>
<td>45.0</td>
<td>none</td>
<td>yellow</td>
<td>male</td>
<td>Vulpter</td>
<td>Vulptereen</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">2</td>
<td>R2-D2</td>
<td>96.0</td>
<td>32.0</td>
<td>NaN</td>
<td>red</td>
<td>NaN</td>
<td>Naboo</td>
<td>Droid</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">27</td>
<td>Arvel Crynyd</td>
<td>NaN</td>
<td>NaN</td>
<td>brown</td>
<td>brown</td>
<td>male</td>
<td>NaN</td>
<td>Human</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">81</td>
<td>Finn</td>
<td>NaN</td>
<td>NaN</td>
<td>black</td>
<td>dark</td>
<td>male</td>
<td>NaN</td>
<td>Human</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">82</td>
<td>Rey</td>
<td>NaN</td>
<td>NaN</td>
<td>brown</td>
<td>hazel</td>
<td>female</td>
<td>NaN</td>
<td>Human</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">83</td>
<td>Poe Dameron</td>
<td>NaN</td>
<td>NaN</td>
<td>brown</td>
<td>brown</td>
<td>male</td>
<td>NaN</td>
<td>Human</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">84</td>
<td>BB8</td>
<td>NaN</td>
<td>NaN</td>
<td>none</td>
<td>black</td>
<td>none</td>
<td>NaN</td>
<td>Droid</td>
</tr>
</tbody>
</table>

<p>82 rows × 8 columns</p>
</div>
</div>
</div>
<p><code>dyryajoflcmu Exercise Using `sort_values()`, sort the dataframe by the `name` column.</code></p>
<div id="cell-26" class="cell" data-execution_count="19">
<div class="sourceCode cell-code" id="cb20"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a>df.sort_values(<span class="st">'name'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="19">
<div>


<table class="dataframe caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">name</th>
<th data-quarto-table-cell-role="th">height</th>
<th data-quarto-table-cell-role="th">mass</th>
<th data-quarto-table-cell-role="th">hair_color</th>
<th data-quarto-table-cell-role="th">eye_color</th>
<th data-quarto-table-cell-role="th">gender</th>
<th data-quarto-table-cell-role="th">homeworld</th>
<th data-quarto-table-cell-role="th">species</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">25</td>
<td>Ackbar</td>
<td>180.0</td>
<td>83.0</td>
<td>none</td>
<td>orange</td>
<td>male</td>
<td>Mon Cala</td>
<td>Mon Calamari</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">51</td>
<td>Adi Gallia</td>
<td>184.0</td>
<td>50.0</td>
<td>none</td>
<td>blue</td>
<td>female</td>
<td>Coruscant</td>
<td>Tholothian</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">10</td>
<td>Anakin Skywalker</td>
<td>188.0</td>
<td>84.0</td>
<td>blond</td>
<td>blue</td>
<td>male</td>
<td>Tatooine</td>
<td>Human</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">27</td>
<td>Arvel Crynyd</td>
<td>NaN</td>
<td>NaN</td>
<td>brown</td>
<td>brown</td>
<td>male</td>
<td>NaN</td>
<td>Human</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">43</td>
<td>Ayla Secura</td>
<td>178.0</td>
<td>55.0</td>
<td>none</td>
<td>hazel</td>
<td>female</td>
<td>Ryloth</td>
<td>Twi'lek</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">28</td>
<td>Wicket Systri Warrick</td>
<td>88.0</td>
<td>20.0</td>
<td>brown</td>
<td>brown</td>
<td>male</td>
<td>Endor</td>
<td>Ewok</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">11</td>
<td>Wilhuff Tarkin</td>
<td>180.0</td>
<td>NaN</td>
<td>auburn, grey</td>
<td>blue</td>
<td>male</td>
<td>Eriadu</td>
<td>Human</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">53</td>
<td>Yarael Poof</td>
<td>264.0</td>
<td>NaN</td>
<td>none</td>
<td>yellow</td>
<td>male</td>
<td>Quermia</td>
<td>Quermian</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">18</td>
<td>Yoda</td>
<td>66.0</td>
<td>17.0</td>
<td>white</td>
<td>brown</td>
<td>male</td>
<td>NaN</td>
<td>Yoda's species</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">66</td>
<td>Zam Wesell</td>
<td>168.0</td>
<td>55.0</td>
<td>blonde</td>
<td>yellow</td>
<td>female</td>
<td>Zolan</td>
<td>Clawdite</td>
</tr>
</tbody>
</table>

<p>82 rows × 8 columns</p>
</div>
</div>
</div>
<div id="cell-27" class="cell" data-execution_count="16">
<div class="sourceCode cell-code" id="cb21"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a>df.sort_values(<span class="st">'name'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="16">
<div>


<table class="dataframe caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">name</th>
<th data-quarto-table-cell-role="th">height</th>
<th data-quarto-table-cell-role="th">mass</th>
<th data-quarto-table-cell-role="th">hair_color</th>
<th data-quarto-table-cell-role="th">eye_color</th>
<th data-quarto-table-cell-role="th">gender</th>
<th data-quarto-table-cell-role="th">homeworld</th>
<th data-quarto-table-cell-role="th">species</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">25</td>
<td>Ackbar</td>
<td>180.0</td>
<td>83.0</td>
<td>none</td>
<td>orange</td>
<td>male</td>
<td>Mon Cala</td>
<td>Mon Calamari</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">51</td>
<td>Adi Gallia</td>
<td>184.0</td>
<td>50.0</td>
<td>none</td>
<td>blue</td>
<td>female</td>
<td>Coruscant</td>
<td>Tholothian</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">10</td>
<td>Anakin Skywalker</td>
<td>188.0</td>
<td>84.0</td>
<td>blond</td>
<td>blue</td>
<td>male</td>
<td>Tatooine</td>
<td>Human</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">27</td>
<td>Arvel Crynyd</td>
<td>NaN</td>
<td>NaN</td>
<td>brown</td>
<td>brown</td>
<td>male</td>
<td>NaN</td>
<td>Human</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">43</td>
<td>Ayla Secura</td>
<td>178.0</td>
<td>55.0</td>
<td>none</td>
<td>hazel</td>
<td>female</td>
<td>Ryloth</td>
<td>Twi'lek</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">28</td>
<td>Wicket Systri Warrick</td>
<td>88.0</td>
<td>20.0</td>
<td>brown</td>
<td>brown</td>
<td>male</td>
<td>Endor</td>
<td>Ewok</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">11</td>
<td>Wilhuff Tarkin</td>
<td>180.0</td>
<td>NaN</td>
<td>auburn, grey</td>
<td>blue</td>
<td>male</td>
<td>Eriadu</td>
<td>Human</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">53</td>
<td>Yarael Poof</td>
<td>264.0</td>
<td>NaN</td>
<td>none</td>
<td>yellow</td>
<td>male</td>
<td>Quermia</td>
<td>Quermian</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">18</td>
<td>Yoda</td>
<td>66.0</td>
<td>17.0</td>
<td>white</td>
<td>brown</td>
<td>male</td>
<td>NaN</td>
<td>Yoda's species</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">66</td>
<td>Zam Wesell</td>
<td>168.0</td>
<td>55.0</td>
<td>blonde</td>
<td>yellow</td>
<td>female</td>
<td>Zolan</td>
<td>Clawdite</td>
</tr>
</tbody>
</table>

<p>82 rows × 8 columns</p>
</div>
</div>
</div>
</section>
<section id="choose-multiple-rows-or-columns-using-slices" class="level2">
<h2 class="anchored" data-anchor-id="choose-multiple-rows-or-columns-using-slices">Choose multiple rows or columns using slices</h2>
<p>Slices can be passed by name using <code>.loc[startrow:stoprow:step, startcolumn:stopcolumn:step]</code> or by position using <code>.iloc[start:stop:step, start:stop:step]</code>.</p>
<p>Choosing every 10th row from the second, and the columns between ‘name’ and ‘gender’:</p>
<div id="cell-29" class="cell" data-execution_count="20">
<div class="sourceCode cell-code" id="cb22"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a>df.loc[<span class="dv">2</span>::<span class="dv">10</span>, <span class="st">"name"</span>:<span class="st">"gender"</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="20">
<div>


<table class="dataframe caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">name</th>
<th data-quarto-table-cell-role="th">height</th>
<th data-quarto-table-cell-role="th">mass</th>
<th data-quarto-table-cell-role="th">hair_color</th>
<th data-quarto-table-cell-role="th">eye_color</th>
<th data-quarto-table-cell-role="th">gender</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">2</td>
<td>R2-D2</td>
<td>96.0</td>
<td>32.0</td>
<td>NaN</td>
<td>red</td>
<td>NaN</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">12</td>
<td>Chewbacca</td>
<td>228.0</td>
<td>112.0</td>
<td>brown</td>
<td>blue</td>
<td>male</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">22</td>
<td>Bossk</td>
<td>190.0</td>
<td>113.0</td>
<td>none</td>
<td>red</td>
<td>male</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">32</td>
<td>Finis Valorum</td>
<td>170.0</td>
<td>NaN</td>
<td>blond</td>
<td>blue</td>
<td>male</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">44</td>
<td>Dud Bolt</td>
<td>94.0</td>
<td>45.0</td>
<td>none</td>
<td>yellow</td>
<td>male</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">54</td>
<td>Plo Koon</td>
<td>188.0</td>
<td>80.0</td>
<td>none</td>
<td>black</td>
<td>male</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">64</td>
<td>Bail Prestor Organa</td>
<td>191.0</td>
<td>NaN</td>
<td>black</td>
<td>brown</td>
<td>male</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">75</td>
<td>Shaak Ti</td>
<td>178.0</td>
<td>57.0</td>
<td>none</td>
<td>black</td>
<td>female</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
<div id="cell-30" class="cell" data-execution_count="17">
<div class="sourceCode cell-code" id="cb23"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a>df.loc[<span class="dv">2</span>::<span class="dv">10</span>, <span class="st">"name"</span>:<span class="st">"gender"</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="17">
<div>


<table class="dataframe caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">name</th>
<th data-quarto-table-cell-role="th">height</th>
<th data-quarto-table-cell-role="th">mass</th>
<th data-quarto-table-cell-role="th">hair_color</th>
<th data-quarto-table-cell-role="th">eye_color</th>
<th data-quarto-table-cell-role="th">gender</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">2</td>
<td>R2-D2</td>
<td>96.0</td>
<td>32.0</td>
<td>NaN</td>
<td>red</td>
<td>NaN</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">12</td>
<td>Chewbacca</td>
<td>228.0</td>
<td>112.0</td>
<td>brown</td>
<td>blue</td>
<td>male</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">22</td>
<td>Bossk</td>
<td>190.0</td>
<td>113.0</td>
<td>none</td>
<td>red</td>
<td>male</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">32</td>
<td>Finis Valorum</td>
<td>170.0</td>
<td>NaN</td>
<td>blond</td>
<td>blue</td>
<td>male</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">44</td>
<td>Dud Bolt</td>
<td>94.0</td>
<td>45.0</td>
<td>none</td>
<td>yellow</td>
<td>male</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">54</td>
<td>Plo Koon</td>
<td>188.0</td>
<td>80.0</td>
<td>none</td>
<td>black</td>
<td>male</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">64</td>
<td>Bail Prestor Organa</td>
<td>191.0</td>
<td>NaN</td>
<td>black</td>
<td>brown</td>
<td>male</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">75</td>
<td>Shaak Ti</td>
<td>178.0</td>
<td>57.0</td>
<td>none</td>
<td>black</td>
<td>female</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
<p>Note that <code>loc</code> only works here with numbers for rows because it just so happens that the names of the rows <em>are</em> numbers. If the rows had names that were strings, and we wanted to subset rows by their index position, we would have to use <code>iloc</code> instead.</p>
<p>Choosing the first 5 rows and the last 2 columns by index position:</p>
<div id="cell-32" class="cell" data-execution_count="21">
<div class="sourceCode cell-code" id="cb24"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true" tabindex="-1"></a>df.iloc[:<span class="dv">5</span>, <span class="op">-</span><span class="dv">2</span>:]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="21">
<div>


<table class="dataframe caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">homeworld</th>
<th data-quarto-table-cell-role="th">species</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">0</td>
<td>Tatooine</td>
<td>Human</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">1</td>
<td>Tatooine</td>
<td>Droid</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">2</td>
<td>Naboo</td>
<td>Droid</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">3</td>
<td>Tatooine</td>
<td>Human</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">4</td>
<td>Alderaan</td>
<td>Human</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
<div id="cell-33" class="cell" data-execution_count="18">
<div class="sourceCode cell-code" id="cb25"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb25-1"><a href="#cb25-1" aria-hidden="true" tabindex="-1"></a>df.iloc[:<span class="dv">5</span>, <span class="op">-</span><span class="dv">2</span>:]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="18">
<div>


<table class="dataframe caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">homeworld</th>
<th data-quarto-table-cell-role="th">species</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">0</td>
<td>Tatooine</td>
<td>Human</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">1</td>
<td>Tatooine</td>
<td>Droid</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">2</td>
<td>Naboo</td>
<td>Droid</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">3</td>
<td>Tatooine</td>
<td>Human</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">4</td>
<td>Alderaan</td>
<td>Human</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
<p><code>dyryajoflcmu Exercise Using `.iloc`, display the first 6 rows and last 6 columns.</code></p>
<div id="cell-35" class="cell" data-execution_count="22">
<div class="sourceCode cell-code" id="cb26"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb26-1"><a href="#cb26-1" aria-hidden="true" tabindex="-1"></a>df.iloc[:<span class="dv">6</span>, <span class="op">-</span><span class="dv">6</span>:]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="22">
<div>


<table class="dataframe caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">mass</th>
<th data-quarto-table-cell-role="th">hair_color</th>
<th data-quarto-table-cell-role="th">eye_color</th>
<th data-quarto-table-cell-role="th">gender</th>
<th data-quarto-table-cell-role="th">homeworld</th>
<th data-quarto-table-cell-role="th">species</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">0</td>
<td>77.0</td>
<td>blond</td>
<td>blue</td>
<td>male</td>
<td>Tatooine</td>
<td>Human</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">1</td>
<td>75.0</td>
<td>NaN</td>
<td>yellow</td>
<td>NaN</td>
<td>Tatooine</td>
<td>Droid</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">2</td>
<td>32.0</td>
<td>NaN</td>
<td>red</td>
<td>NaN</td>
<td>Naboo</td>
<td>Droid</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">3</td>
<td>136.0</td>
<td>none</td>
<td>yellow</td>
<td>male</td>
<td>Tatooine</td>
<td>Human</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">4</td>
<td>49.0</td>
<td>brown</td>
<td>brown</td>
<td>female</td>
<td>Alderaan</td>
<td>Human</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">5</td>
<td>120.0</td>
<td>brown, grey</td>
<td>blue</td>
<td>male</td>
<td>Tatooine</td>
<td>Human</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
<div id="cell-36" class="cell" data-execution_count="19">
<div class="sourceCode cell-code" id="cb27"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb27-1"><a href="#cb27-1" aria-hidden="true" tabindex="-1"></a>df.iloc[:<span class="dv">6</span>, <span class="op">-</span><span class="dv">6</span>:]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="19">
<div>


<table class="dataframe caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">mass</th>
<th data-quarto-table-cell-role="th">hair_color</th>
<th data-quarto-table-cell-role="th">eye_color</th>
<th data-quarto-table-cell-role="th">gender</th>
<th data-quarto-table-cell-role="th">homeworld</th>
<th data-quarto-table-cell-role="th">species</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">0</td>
<td>77.0</td>
<td>blond</td>
<td>blue</td>
<td>male</td>
<td>Tatooine</td>
<td>Human</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">1</td>
<td>75.0</td>
<td>NaN</td>
<td>yellow</td>
<td>NaN</td>
<td>Tatooine</td>
<td>Droid</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">2</td>
<td>32.0</td>
<td>NaN</td>
<td>red</td>
<td>NaN</td>
<td>Naboo</td>
<td>Droid</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">3</td>
<td>136.0</td>
<td>none</td>
<td>yellow</td>
<td>male</td>
<td>Tatooine</td>
<td>Human</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">4</td>
<td>49.0</td>
<td>brown</td>
<td>brown</td>
<td>female</td>
<td>Alderaan</td>
<td>Human</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">5</td>
<td>120.0</td>
<td>brown, grey</td>
<td>blue</td>
<td>male</td>
<td>Tatooine</td>
<td>Human</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
</section>
<section id="randomly-selecting-a-sample-using-.sample" class="level2">
<h2 class="anchored" data-anchor-id="randomly-selecting-a-sample-using-.sample">Randomly selecting a sample using <code>.sample</code></h2>
<p><code>.sample(n)</code> randomly selects <code>n</code> rows, <code>.sample(frac=0.4)</code> selects 40% of the data, <code>replace=True</code> samples with replacement, and passing <code>weights=</code> selects a number or fraction with the probabilities given by the passed weights. (Note that weights passed should have the same length as the dataframe.)</p>
<p>Taking a sample of 5 rows:</p>
<div id="cell-38" class="cell" data-execution_count="23">
<div class="sourceCode cell-code" id="cb28"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb28-1"><a href="#cb28-1" aria-hidden="true" tabindex="-1"></a>df.sample(<span class="dv">5</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="23">
<div>


<table class="dataframe caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">name</th>
<th data-quarto-table-cell-role="th">height</th>
<th data-quarto-table-cell-role="th">mass</th>
<th data-quarto-table-cell-role="th">hair_color</th>
<th data-quarto-table-cell-role="th">eye_color</th>
<th data-quarto-table-cell-role="th">gender</th>
<th data-quarto-table-cell-role="th">homeworld</th>
<th data-quarto-table-cell-role="th">species</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">69</td>
<td>Taun We</td>
<td>213.0</td>
<td>NaN</td>
<td>none</td>
<td>black</td>
<td>female</td>
<td>Kamino</td>
<td>Kaminoan</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">59</td>
<td>Poggle the Lesser</td>
<td>183.0</td>
<td>80.0</td>
<td>none</td>
<td>yellow</td>
<td>male</td>
<td>Geonosis</td>
<td>Geonosian</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">65</td>
<td>Jango Fett</td>
<td>183.0</td>
<td>79.0</td>
<td>black</td>
<td>brown</td>
<td>male</td>
<td>Concord Dawn</td>
<td>Human</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">2</td>
<td>R2-D2</td>
<td>96.0</td>
<td>32.0</td>
<td>NaN</td>
<td>red</td>
<td>NaN</td>
<td>Naboo</td>
<td>Droid</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">22</td>
<td>Bossk</td>
<td>190.0</td>
<td>113.0</td>
<td>none</td>
<td>red</td>
<td>male</td>
<td>Trandosha</td>
<td>Trandoshan</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
<div id="cell-39" class="cell" data-execution_count="20">
<div class="sourceCode cell-code" id="cb29"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb29-1"><a href="#cb29-1" aria-hidden="true" tabindex="-1"></a>df.sample(<span class="dv">5</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="20">
<div>


<table class="dataframe caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">name</th>
<th data-quarto-table-cell-role="th">height</th>
<th data-quarto-table-cell-role="th">mass</th>
<th data-quarto-table-cell-role="th">hair_color</th>
<th data-quarto-table-cell-role="th">eye_color</th>
<th data-quarto-table-cell-role="th">gender</th>
<th data-quarto-table-cell-role="th">homeworld</th>
<th data-quarto-table-cell-role="th">species</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">6</td>
<td>Beru Whitesun lars</td>
<td>165.0</td>
<td>75.0</td>
<td>brown</td>
<td>blue</td>
<td>female</td>
<td>Tatooine</td>
<td>Human</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">70</td>
<td>Jocasta Nu</td>
<td>167.0</td>
<td>NaN</td>
<td>white</td>
<td>blue</td>
<td>female</td>
<td>Coruscant</td>
<td>Human</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">80</td>
<td>Tion Medon</td>
<td>206.0</td>
<td>80.0</td>
<td>none</td>
<td>black</td>
<td>male</td>
<td>Utapau</td>
<td>Pau'an</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">57</td>
<td>Cordé</td>
<td>157.0</td>
<td>NaN</td>
<td>brown</td>
<td>brown</td>
<td>female</td>
<td>Naboo</td>
<td>Human</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">71</td>
<td>Ratts Tyerell</td>
<td>79.0</td>
<td>15.0</td>
<td>none</td>
<td>NaN</td>
<td>male</td>
<td>Aleen Minor</td>
<td>Aleena</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
<p><code>dyryajoflcmu Exercise Use `.sample()` to sample 5% of the dataframe.</code></p>
<div id="cell-41" class="cell" data-execution_count="24">
<div class="sourceCode cell-code" id="cb30"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb30-1"><a href="#cb30-1" aria-hidden="true" tabindex="-1"></a>df.sample(frac<span class="op">=</span><span class="fl">0.05</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="24">
<div>


<table class="dataframe caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">name</th>
<th data-quarto-table-cell-role="th">height</th>
<th data-quarto-table-cell-role="th">mass</th>
<th data-quarto-table-cell-role="th">hair_color</th>
<th data-quarto-table-cell-role="th">eye_color</th>
<th data-quarto-table-cell-role="th">gender</th>
<th data-quarto-table-cell-role="th">homeworld</th>
<th data-quarto-table-cell-role="th">species</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">24</td>
<td>Lobot</td>
<td>175.0</td>
<td>79.0</td>
<td>none</td>
<td>blue</td>
<td>male</td>
<td>Bespin</td>
<td>Human</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">66</td>
<td>Zam Wesell</td>
<td>168.0</td>
<td>55.0</td>
<td>blonde</td>
<td>yellow</td>
<td>female</td>
<td>Zolan</td>
<td>Clawdite</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">23</td>
<td>Lando Calrissian</td>
<td>177.0</td>
<td>79.0</td>
<td>black</td>
<td>brown</td>
<td>male</td>
<td>Socorro</td>
<td>Human</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">64</td>
<td>Bail Prestor Organa</td>
<td>191.0</td>
<td>NaN</td>
<td>black</td>
<td>brown</td>
<td>male</td>
<td>Alderaan</td>
<td>Human</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
</section>
<section id="rename-with-.rename" class="level2">
<h2 class="anchored" data-anchor-id="rename-with-.rename">Rename with <code>.rename()</code></h2>
<p>You can rename all columns by passing a function, for instance <code>df.rename(columns=str.lower)</code> to put all columns in lower case. Alternatively, use a dictionary to say which columns should be mapped to what:</p>
<div id="cell-43" class="cell" data-execution_count="9">
<div class="sourceCode cell-code" id="cb31"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb31-1"><a href="#cb31-1" aria-hidden="true" tabindex="-1"></a>df.rename(columns<span class="op">=</span>{<span class="st">"homeworld"</span>: <span class="st">"home_world"</span>})</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="9">
<div>


<table class="dataframe caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">name</th>
<th data-quarto-table-cell-role="th">height</th>
<th data-quarto-table-cell-role="th">mass</th>
<th data-quarto-table-cell-role="th">hair_color</th>
<th data-quarto-table-cell-role="th">eye_color</th>
<th data-quarto-table-cell-role="th">gender</th>
<th data-quarto-table-cell-role="th">home_world</th>
<th data-quarto-table-cell-role="th">species</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">0</td>
<td>Luke Skywalker</td>
<td>172.0</td>
<td>77.0</td>
<td>blond</td>
<td>blue</td>
<td>male</td>
<td>Tatooine</td>
<td>Human</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">1</td>
<td>C-3PO</td>
<td>167.0</td>
<td>75.0</td>
<td>NaN</td>
<td>yellow</td>
<td>NaN</td>
<td>Tatooine</td>
<td>Droid</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">2</td>
<td>R2-D2</td>
<td>96.0</td>
<td>32.0</td>
<td>NaN</td>
<td>red</td>
<td>NaN</td>
<td>Naboo</td>
<td>Droid</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">3</td>
<td>Darth Vader</td>
<td>202.0</td>
<td>136.0</td>
<td>none</td>
<td>yellow</td>
<td>male</td>
<td>Tatooine</td>
<td>Human</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">4</td>
<td>Leia Organa</td>
<td>150.0</td>
<td>49.0</td>
<td>brown</td>
<td>brown</td>
<td>female</td>
<td>Alderaan</td>
<td>Human</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">81</td>
<td>Finn</td>
<td>NaN</td>
<td>NaN</td>
<td>black</td>
<td>dark</td>
<td>male</td>
<td>NaN</td>
<td>Human</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">82</td>
<td>Rey</td>
<td>NaN</td>
<td>NaN</td>
<td>brown</td>
<td>hazel</td>
<td>female</td>
<td>NaN</td>
<td>Human</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">83</td>
<td>Poe Dameron</td>
<td>NaN</td>
<td>NaN</td>
<td>brown</td>
<td>brown</td>
<td>male</td>
<td>NaN</td>
<td>Human</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">84</td>
<td>BB8</td>
<td>NaN</td>
<td>NaN</td>
<td>none</td>
<td>black</td>
<td>none</td>
<td>NaN</td>
<td>Droid</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">86</td>
<td>Padmé Amidala</td>
<td>165.0</td>
<td>45.0</td>
<td>brown</td>
<td>brown</td>
<td>female</td>
<td>Naboo</td>
<td>Human</td>
</tr>
</tbody>
</table>

<p>82 rows × 8 columns</p>
</div>
</div>
</div>
<div id="cell-44" class="cell" data-execution_count="10">
<div class="sourceCode cell-code" id="cb32"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb32-1"><a href="#cb32-1" aria-hidden="true" tabindex="-1"></a>df.rename(columns<span class="op">=</span>{<span class="st">"homeworld"</span>: <span class="st">"home_world"</span>})</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="10">
<div>


<table class="dataframe caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">name</th>
<th data-quarto-table-cell-role="th">height</th>
<th data-quarto-table-cell-role="th">mass</th>
<th data-quarto-table-cell-role="th">hair_color</th>
<th data-quarto-table-cell-role="th">eye_color</th>
<th data-quarto-table-cell-role="th">gender</th>
<th data-quarto-table-cell-role="th">home_world</th>
<th data-quarto-table-cell-role="th">species</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">0</td>
<td>Luke Skywalker</td>
<td>172.0</td>
<td>77.0</td>
<td>blond</td>
<td>blue</td>
<td>male</td>
<td>Tatooine</td>
<td>Human</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">1</td>
<td>C-3PO</td>
<td>167.0</td>
<td>75.0</td>
<td>NaN</td>
<td>yellow</td>
<td>NaN</td>
<td>Tatooine</td>
<td>Droid</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">2</td>
<td>R2-D2</td>
<td>96.0</td>
<td>32.0</td>
<td>NaN</td>
<td>red</td>
<td>NaN</td>
<td>Naboo</td>
<td>Droid</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">3</td>
<td>Darth Vader</td>
<td>202.0</td>
<td>136.0</td>
<td>none</td>
<td>yellow</td>
<td>male</td>
<td>Tatooine</td>
<td>Human</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">4</td>
<td>Leia Organa</td>
<td>150.0</td>
<td>49.0</td>
<td>brown</td>
<td>brown</td>
<td>female</td>
<td>Alderaan</td>
<td>Human</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">81</td>
<td>Finn</td>
<td>NaN</td>
<td>NaN</td>
<td>black</td>
<td>dark</td>
<td>male</td>
<td>NaN</td>
<td>Human</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">82</td>
<td>Rey</td>
<td>NaN</td>
<td>NaN</td>
<td>brown</td>
<td>hazel</td>
<td>female</td>
<td>NaN</td>
<td>Human</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">83</td>
<td>Poe Dameron</td>
<td>NaN</td>
<td>NaN</td>
<td>brown</td>
<td>brown</td>
<td>male</td>
<td>NaN</td>
<td>Human</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">84</td>
<td>BB8</td>
<td>NaN</td>
<td>NaN</td>
<td>none</td>
<td>black</td>
<td>none</td>
<td>NaN</td>
<td>Droid</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">86</td>
<td>Padmé Amidala</td>
<td>165.0</td>
<td>45.0</td>
<td>brown</td>
<td>brown</td>
<td>female</td>
<td>Naboo</td>
<td>Human</td>
</tr>
</tbody>
</table>

<p>82 rows × 8 columns</p>
</div>
</div>
</div>
</section>
<section id="add-new-columns-with-.assign-or-assignment" class="level2">
<h2 class="anchored" data-anchor-id="add-new-columns-with-.assign-or-assignment">Add new columns with <code>.assign()</code> or assignment</h2>
<p>Very often you will want to create new columns based on existing columns.</p>
<p><img src="https://pandas.pydata.org/docs/_images/05_newcolumn_1.svg" class="img-fluid"></p>
<p>There are two ways to do this. Let’s see them both with an example where we’d like to create a new column that contains height in metres, called <code>"height_m:</code>.</p>
<ul>
<li>The first, and most commonly used, is called <em>assignment</em> and involves just entering the new column name within your dataframe and putting it on the left-hand side of an assignment expression that has an operation based on existing dataframe columns on the right-hand side. For example, <code>df['height_m'] = df['height']/100</code>.</li>
<li>The second is to use the <code>assign()</code> method on a dataframe directly. In this case, the assignment statement appears inside the brackets but you don’t need to write as much text because it’s clear from the context that, on the left-hand side of the assignment, we’re talking about the given dataframe. An example is <code>df.assign(height_m=df["height"] / 100)</code>.</li>
</ul>
<p>Let’s see working examples of both of these assignment methods.</p>
<p>First let’s use the assignment approach:</p>
<div id="cell-47" class="cell" data-execution_count="25">
<div class="sourceCode cell-code" id="cb33"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb33-1"><a href="#cb33-1" aria-hidden="true" tabindex="-1"></a>df[<span class="st">'height_m'</span>] <span class="op">=</span> df[<span class="st">'height'</span>]<span class="op">/</span><span class="dv">100</span></span>
<span id="cb33-2"><a href="#cb33-2" aria-hidden="true" tabindex="-1"></a>df.head()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="25">
<div>


<table class="dataframe caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">name</th>
<th data-quarto-table-cell-role="th">height</th>
<th data-quarto-table-cell-role="th">mass</th>
<th data-quarto-table-cell-role="th">hair_color</th>
<th data-quarto-table-cell-role="th">eye_color</th>
<th data-quarto-table-cell-role="th">gender</th>
<th data-quarto-table-cell-role="th">homeworld</th>
<th data-quarto-table-cell-role="th">species</th>
<th data-quarto-table-cell-role="th">height_m</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">0</td>
<td>Luke Skywalker</td>
<td>172.0</td>
<td>77.0</td>
<td>blond</td>
<td>blue</td>
<td>male</td>
<td>Tatooine</td>
<td>Human</td>
<td>1.72</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">1</td>
<td>C-3PO</td>
<td>167.0</td>
<td>75.0</td>
<td>NaN</td>
<td>yellow</td>
<td>NaN</td>
<td>Tatooine</td>
<td>Droid</td>
<td>1.67</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">2</td>
<td>R2-D2</td>
<td>96.0</td>
<td>32.0</td>
<td>NaN</td>
<td>red</td>
<td>NaN</td>
<td>Naboo</td>
<td>Droid</td>
<td>0.96</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">3</td>
<td>Darth Vader</td>
<td>202.0</td>
<td>136.0</td>
<td>none</td>
<td>yellow</td>
<td>male</td>
<td>Tatooine</td>
<td>Human</td>
<td>2.02</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">4</td>
<td>Leia Organa</td>
<td>150.0</td>
<td>49.0</td>
<td>brown</td>
<td>brown</td>
<td>female</td>
<td>Alderaan</td>
<td>Human</td>
<td>1.50</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
<div id="cell-48" class="cell" data-execution_count="12">
<div class="sourceCode cell-code" id="cb34"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb34-1"><a href="#cb34-1" aria-hidden="true" tabindex="-1"></a>df[<span class="st">'height_m'</span>] <span class="op">=</span> df[<span class="st">'height'</span>]<span class="op">/</span><span class="dv">100</span></span>
<span id="cb34-2"><a href="#cb34-2" aria-hidden="true" tabindex="-1"></a>df.head()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="12">
<div>


<table class="dataframe caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">name</th>
<th data-quarto-table-cell-role="th">height</th>
<th data-quarto-table-cell-role="th">mass</th>
<th data-quarto-table-cell-role="th">hair_color</th>
<th data-quarto-table-cell-role="th">eye_color</th>
<th data-quarto-table-cell-role="th">gender</th>
<th data-quarto-table-cell-role="th">homeworld</th>
<th data-quarto-table-cell-role="th">species</th>
<th data-quarto-table-cell-role="th">height_m</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">0</td>
<td>Luke Skywalker</td>
<td>172.0</td>
<td>77.0</td>
<td>blond</td>
<td>blue</td>
<td>male</td>
<td>Tatooine</td>
<td>Human</td>
<td>1.72</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">1</td>
<td>C-3PO</td>
<td>167.0</td>
<td>75.0</td>
<td>NaN</td>
<td>yellow</td>
<td>NaN</td>
<td>Tatooine</td>
<td>Droid</td>
<td>1.67</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">2</td>
<td>R2-D2</td>
<td>96.0</td>
<td>32.0</td>
<td>NaN</td>
<td>red</td>
<td>NaN</td>
<td>Naboo</td>
<td>Droid</td>
<td>0.96</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">3</td>
<td>Darth Vader</td>
<td>202.0</td>
<td>136.0</td>
<td>none</td>
<td>yellow</td>
<td>male</td>
<td>Tatooine</td>
<td>Human</td>
<td>2.02</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">4</td>
<td>Leia Organa</td>
<td>150.0</td>
<td>49.0</td>
<td>brown</td>
<td>brown</td>
<td>female</td>
<td>Alderaan</td>
<td>Human</td>
<td>1.50</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
<p>And now with the <code>.assign()</code> function:</p>
<div id="cell-50" class="cell" data-execution_count="26">
<div class="sourceCode cell-code" id="cb35"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb35-1"><a href="#cb35-1" aria-hidden="true" tabindex="-1"></a>df <span class="op">=</span> df.assign(height_m<span class="op">=</span>df[<span class="st">"height"</span>] <span class="op">/</span> <span class="dv">100</span>)</span>
<span id="cb35-2"><a href="#cb35-2" aria-hidden="true" tabindex="-1"></a>df.head()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="26">
<div>


<table class="dataframe caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">name</th>
<th data-quarto-table-cell-role="th">height</th>
<th data-quarto-table-cell-role="th">mass</th>
<th data-quarto-table-cell-role="th">hair_color</th>
<th data-quarto-table-cell-role="th">eye_color</th>
<th data-quarto-table-cell-role="th">gender</th>
<th data-quarto-table-cell-role="th">homeworld</th>
<th data-quarto-table-cell-role="th">species</th>
<th data-quarto-table-cell-role="th">height_m</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">0</td>
<td>Luke Skywalker</td>
<td>172.0</td>
<td>77.0</td>
<td>blond</td>
<td>blue</td>
<td>male</td>
<td>Tatooine</td>
<td>Human</td>
<td>1.72</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">1</td>
<td>C-3PO</td>
<td>167.0</td>
<td>75.0</td>
<td>NaN</td>
<td>yellow</td>
<td>NaN</td>
<td>Tatooine</td>
<td>Droid</td>
<td>1.67</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">2</td>
<td>R2-D2</td>
<td>96.0</td>
<td>32.0</td>
<td>NaN</td>
<td>red</td>
<td>NaN</td>
<td>Naboo</td>
<td>Droid</td>
<td>0.96</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">3</td>
<td>Darth Vader</td>
<td>202.0</td>
<td>136.0</td>
<td>none</td>
<td>yellow</td>
<td>male</td>
<td>Tatooine</td>
<td>Human</td>
<td>2.02</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">4</td>
<td>Leia Organa</td>
<td>150.0</td>
<td>49.0</td>
<td>brown</td>
<td>brown</td>
<td>female</td>
<td>Alderaan</td>
<td>Human</td>
<td>1.50</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
<div id="cell-51" class="cell" data-execution_count="13">
<div class="sourceCode cell-code" id="cb36"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb36-1"><a href="#cb36-1" aria-hidden="true" tabindex="-1"></a>df <span class="op">=</span> df.assign(height_m<span class="op">=</span>df[<span class="st">"height"</span>] <span class="op">/</span> <span class="dv">100</span>)</span>
<span id="cb36-2"><a href="#cb36-2" aria-hidden="true" tabindex="-1"></a>df.head()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="13">
<div>


<table class="dataframe caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">name</th>
<th data-quarto-table-cell-role="th">height</th>
<th data-quarto-table-cell-role="th">mass</th>
<th data-quarto-table-cell-role="th">hair_color</th>
<th data-quarto-table-cell-role="th">eye_color</th>
<th data-quarto-table-cell-role="th">gender</th>
<th data-quarto-table-cell-role="th">homeworld</th>
<th data-quarto-table-cell-role="th">species</th>
<th data-quarto-table-cell-role="th">height_m</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">0</td>
<td>Luke Skywalker</td>
<td>172.0</td>
<td>77.0</td>
<td>blond</td>
<td>blue</td>
<td>male</td>
<td>Tatooine</td>
<td>Human</td>
<td>1.72</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">1</td>
<td>C-3PO</td>
<td>167.0</td>
<td>75.0</td>
<td>NaN</td>
<td>yellow</td>
<td>NaN</td>
<td>Tatooine</td>
<td>Droid</td>
<td>1.67</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">2</td>
<td>R2-D2</td>
<td>96.0</td>
<td>32.0</td>
<td>NaN</td>
<td>red</td>
<td>NaN</td>
<td>Naboo</td>
<td>Droid</td>
<td>0.96</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">3</td>
<td>Darth Vader</td>
<td>202.0</td>
<td>136.0</td>
<td>none</td>
<td>yellow</td>
<td>male</td>
<td>Tatooine</td>
<td>Human</td>
<td>2.02</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">4</td>
<td>Leia Organa</td>
<td>150.0</td>
<td>49.0</td>
<td>brown</td>
<td>brown</td>
<td>female</td>
<td>Alderaan</td>
<td>Human</td>
<td>1.50</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
<p>This was added to the end; ideally, we’d like it next to the height column, which we can achieve by sorting the columns (<code>axis=1</code>) alphabetically:</p>
<div id="cell-53" class="cell" data-execution_count="27">
<div class="sourceCode cell-code" id="cb37"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb37-1"><a href="#cb37-1" aria-hidden="true" tabindex="-1"></a>(df.assign(height_m<span class="op">=</span>df[<span class="st">"height"</span>] <span class="op">/</span> <span class="dv">100</span>).sort_index(axis<span class="op">=</span><span class="dv">1</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="27">
<div>


<table class="dataframe caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">eye_color</th>
<th data-quarto-table-cell-role="th">gender</th>
<th data-quarto-table-cell-role="th">hair_color</th>
<th data-quarto-table-cell-role="th">height</th>
<th data-quarto-table-cell-role="th">height_m</th>
<th data-quarto-table-cell-role="th">homeworld</th>
<th data-quarto-table-cell-role="th">mass</th>
<th data-quarto-table-cell-role="th">name</th>
<th data-quarto-table-cell-role="th">species</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">0</td>
<td>blue</td>
<td>male</td>
<td>blond</td>
<td>172.0</td>
<td>1.72</td>
<td>Tatooine</td>
<td>77.0</td>
<td>Luke Skywalker</td>
<td>Human</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">1</td>
<td>yellow</td>
<td>NaN</td>
<td>NaN</td>
<td>167.0</td>
<td>1.67</td>
<td>Tatooine</td>
<td>75.0</td>
<td>C-3PO</td>
<td>Droid</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">2</td>
<td>red</td>
<td>NaN</td>
<td>NaN</td>
<td>96.0</td>
<td>0.96</td>
<td>Naboo</td>
<td>32.0</td>
<td>R2-D2</td>
<td>Droid</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">3</td>
<td>yellow</td>
<td>male</td>
<td>none</td>
<td>202.0</td>
<td>2.02</td>
<td>Tatooine</td>
<td>136.0</td>
<td>Darth Vader</td>
<td>Human</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">4</td>
<td>brown</td>
<td>female</td>
<td>brown</td>
<td>150.0</td>
<td>1.50</td>
<td>Alderaan</td>
<td>49.0</td>
<td>Leia Organa</td>
<td>Human</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">81</td>
<td>dark</td>
<td>male</td>
<td>black</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>Finn</td>
<td>Human</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">82</td>
<td>hazel</td>
<td>female</td>
<td>brown</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>Rey</td>
<td>Human</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">83</td>
<td>brown</td>
<td>male</td>
<td>brown</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>Poe Dameron</td>
<td>Human</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">84</td>
<td>black</td>
<td>none</td>
<td>none</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>BB8</td>
<td>Droid</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">86</td>
<td>brown</td>
<td>female</td>
<td>brown</td>
<td>165.0</td>
<td>1.65</td>
<td>Naboo</td>
<td>45.0</td>
<td>Padmé Amidala</td>
<td>Human</td>
</tr>
</tbody>
</table>

<p>82 rows × 9 columns</p>
</div>
</div>
</div>
<div id="cell-54" class="cell" data-execution_count="14">
<div class="sourceCode cell-code" id="cb38"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb38-1"><a href="#cb38-1" aria-hidden="true" tabindex="-1"></a>(df.assign(height_m<span class="op">=</span>df[<span class="st">"height"</span>] <span class="op">/</span> <span class="dv">100</span>).sort_index(axis<span class="op">=</span><span class="dv">1</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="14">
<div>


<table class="dataframe caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">eye_color</th>
<th data-quarto-table-cell-role="th">gender</th>
<th data-quarto-table-cell-role="th">hair_color</th>
<th data-quarto-table-cell-role="th">height</th>
<th data-quarto-table-cell-role="th">height_m</th>
<th data-quarto-table-cell-role="th">homeworld</th>
<th data-quarto-table-cell-role="th">mass</th>
<th data-quarto-table-cell-role="th">name</th>
<th data-quarto-table-cell-role="th">species</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">0</td>
<td>blue</td>
<td>male</td>
<td>blond</td>
<td>172.0</td>
<td>1.72</td>
<td>Tatooine</td>
<td>77.0</td>
<td>Luke Skywalker</td>
<td>Human</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">1</td>
<td>yellow</td>
<td>NaN</td>
<td>NaN</td>
<td>167.0</td>
<td>1.67</td>
<td>Tatooine</td>
<td>75.0</td>
<td>C-3PO</td>
<td>Droid</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">2</td>
<td>red</td>
<td>NaN</td>
<td>NaN</td>
<td>96.0</td>
<td>0.96</td>
<td>Naboo</td>
<td>32.0</td>
<td>R2-D2</td>
<td>Droid</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">3</td>
<td>yellow</td>
<td>male</td>
<td>none</td>
<td>202.0</td>
<td>2.02</td>
<td>Tatooine</td>
<td>136.0</td>
<td>Darth Vader</td>
<td>Human</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">4</td>
<td>brown</td>
<td>female</td>
<td>brown</td>
<td>150.0</td>
<td>1.50</td>
<td>Alderaan</td>
<td>49.0</td>
<td>Leia Organa</td>
<td>Human</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">81</td>
<td>dark</td>
<td>male</td>
<td>black</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>Finn</td>
<td>Human</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">82</td>
<td>hazel</td>
<td>female</td>
<td>brown</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>Rey</td>
<td>Human</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">83</td>
<td>brown</td>
<td>male</td>
<td>brown</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>Poe Dameron</td>
<td>Human</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">84</td>
<td>black</td>
<td>none</td>
<td>none</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>BB8</td>
<td>Droid</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">86</td>
<td>brown</td>
<td>female</td>
<td>brown</td>
<td>165.0</td>
<td>1.65</td>
<td>Naboo</td>
<td>45.0</td>
<td>Padmé Amidala</td>
<td>Human</td>
</tr>
</tbody>
</table>

<p>82 rows × 9 columns</p>
</div>
</div>
</div>
<p>To overwrite existing columns just use <code>height = df['height']/100</code> with the <code>assign</code> method or <code>df['height'] = df['height']/100</code> with an assignment expression.</p>
<p><code>dyryajoflcmu Exercise Add a new column that gives the ratio of mass to height.</code></p>
<div id="cell-57" class="cell" data-execution_count="30">
<div class="sourceCode cell-code" id="cb39"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb39-1"><a href="#cb39-1" aria-hidden="true" tabindex="-1"></a>df[<span class="st">'mass_height_ratio'</span>] <span class="op">=</span> df[<span class="st">'mass'</span>] <span class="op">/</span> df[<span class="st">'height'</span>]</span>
<span id="cb39-2"><a href="#cb39-2" aria-hidden="true" tabindex="-1"></a>df.head()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="30">
<div>


<table class="dataframe caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">name</th>
<th data-quarto-table-cell-role="th">height</th>
<th data-quarto-table-cell-role="th">mass</th>
<th data-quarto-table-cell-role="th">hair_color</th>
<th data-quarto-table-cell-role="th">eye_color</th>
<th data-quarto-table-cell-role="th">gender</th>
<th data-quarto-table-cell-role="th">homeworld</th>
<th data-quarto-table-cell-role="th">species</th>
<th data-quarto-table-cell-role="th">height_m</th>
<th data-quarto-table-cell-role="th">mass_height_ratio</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">0</td>
<td>Luke Skywalker</td>
<td>172.0</td>
<td>77.0</td>
<td>blond</td>
<td>blue</td>
<td>male</td>
<td>Tatooine</td>
<td>Human</td>
<td>1.72</td>
<td>0.447674</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">1</td>
<td>C-3PO</td>
<td>167.0</td>
<td>75.0</td>
<td>NaN</td>
<td>yellow</td>
<td>NaN</td>
<td>Tatooine</td>
<td>Droid</td>
<td>1.67</td>
<td>0.449102</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">2</td>
<td>R2-D2</td>
<td>96.0</td>
<td>32.0</td>
<td>NaN</td>
<td>red</td>
<td>NaN</td>
<td>Naboo</td>
<td>Droid</td>
<td>0.96</td>
<td>0.333333</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">3</td>
<td>Darth Vader</td>
<td>202.0</td>
<td>136.0</td>
<td>none</td>
<td>yellow</td>
<td>male</td>
<td>Tatooine</td>
<td>Human</td>
<td>2.02</td>
<td>0.673267</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">4</td>
<td>Leia Organa</td>
<td>150.0</td>
<td>49.0</td>
<td>brown</td>
<td>brown</td>
<td>female</td>
<td>Alderaan</td>
<td>Human</td>
<td>1.50</td>
<td>0.326667</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
<div id="cell-58" class="cell" data-execution_count="15">
<div class="sourceCode cell-code" id="cb40"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb40-1"><a href="#cb40-1" aria-hidden="true" tabindex="-1"></a>df[<span class="st">'mass_height_ratio'</span>] <span class="op">=</span> df[<span class="st">'mass'</span>] <span class="op">/</span> df[<span class="st">'height'</span>]</span>
<span id="cb40-2"><a href="#cb40-2" aria-hidden="true" tabindex="-1"></a>df.head()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="15">
<div>


<table class="dataframe caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">name</th>
<th data-quarto-table-cell-role="th">height</th>
<th data-quarto-table-cell-role="th">mass</th>
<th data-quarto-table-cell-role="th">hair_color</th>
<th data-quarto-table-cell-role="th">eye_color</th>
<th data-quarto-table-cell-role="th">gender</th>
<th data-quarto-table-cell-role="th">homeworld</th>
<th data-quarto-table-cell-role="th">species</th>
<th data-quarto-table-cell-role="th">height_m</th>
<th data-quarto-table-cell-role="th">mass_height_ratio</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">0</td>
<td>Luke Skywalker</td>
<td>172.0</td>
<td>77.0</td>
<td>blond</td>
<td>blue</td>
<td>male</td>
<td>Tatooine</td>
<td>Human</td>
<td>1.72</td>
<td>0.447674</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">1</td>
<td>C-3PO</td>
<td>167.0</td>
<td>75.0</td>
<td>NaN</td>
<td>yellow</td>
<td>NaN</td>
<td>Tatooine</td>
<td>Droid</td>
<td>1.67</td>
<td>0.449102</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">2</td>
<td>R2-D2</td>
<td>96.0</td>
<td>32.0</td>
<td>NaN</td>
<td>red</td>
<td>NaN</td>
<td>Naboo</td>
<td>Droid</td>
<td>0.96</td>
<td>0.333333</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">3</td>
<td>Darth Vader</td>
<td>202.0</td>
<td>136.0</td>
<td>none</td>
<td>yellow</td>
<td>male</td>
<td>Tatooine</td>
<td>Human</td>
<td>2.02</td>
<td>0.673267</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">4</td>
<td>Leia Organa</td>
<td>150.0</td>
<td>49.0</td>
<td>brown</td>
<td>brown</td>
<td>female</td>
<td>Alderaan</td>
<td>Human</td>
<td>1.50</td>
<td>0.326667</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
<div id="cell-59" class="cell" data-execution_count="29">
<div class="sourceCode cell-code" id="cb41"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb41-1"><a href="#cb41-1" aria-hidden="true" tabindex="-1"></a>df <span class="op">=</span> df.assign(mass_height_ratio<span class="op">=</span>df[<span class="st">'mass'</span>] <span class="op">/</span> df[<span class="st">'height'</span>])</span>
<span id="cb41-2"><a href="#cb41-2" aria-hidden="true" tabindex="-1"></a>df.head()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="29">
<div>


<table class="dataframe caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">name</th>
<th data-quarto-table-cell-role="th">height</th>
<th data-quarto-table-cell-role="th">mass</th>
<th data-quarto-table-cell-role="th">hair_color</th>
<th data-quarto-table-cell-role="th">eye_color</th>
<th data-quarto-table-cell-role="th">gender</th>
<th data-quarto-table-cell-role="th">homeworld</th>
<th data-quarto-table-cell-role="th">species</th>
<th data-quarto-table-cell-role="th">height_m</th>
<th data-quarto-table-cell-role="th">mass_height_ratio</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">0</td>
<td>Luke Skywalker</td>
<td>172.0</td>
<td>77.0</td>
<td>blond</td>
<td>blue</td>
<td>male</td>
<td>Tatooine</td>
<td>Human</td>
<td>1.72</td>
<td>0.447674</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">1</td>
<td>C-3PO</td>
<td>167.0</td>
<td>75.0</td>
<td>NaN</td>
<td>yellow</td>
<td>NaN</td>
<td>Tatooine</td>
<td>Droid</td>
<td>1.67</td>
<td>0.449102</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">2</td>
<td>R2-D2</td>
<td>96.0</td>
<td>32.0</td>
<td>NaN</td>
<td>red</td>
<td>NaN</td>
<td>Naboo</td>
<td>Droid</td>
<td>0.96</td>
<td>0.333333</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">3</td>
<td>Darth Vader</td>
<td>202.0</td>
<td>136.0</td>
<td>none</td>
<td>yellow</td>
<td>male</td>
<td>Tatooine</td>
<td>Human</td>
<td>2.02</td>
<td>0.673267</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">4</td>
<td>Leia Organa</td>
<td>150.0</td>
<td>49.0</td>
<td>brown</td>
<td>brown</td>
<td>female</td>
<td>Alderaan</td>
<td>Human</td>
<td>1.50</td>
<td>0.326667</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
<div id="cell-60" class="cell" data-execution_count="16">
<div class="sourceCode cell-code" id="cb42"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb42-1"><a href="#cb42-1" aria-hidden="true" tabindex="-1"></a>df <span class="op">=</span> df.assign(mass_height_ratio<span class="op">=</span>df[<span class="st">'mass'</span>] <span class="op">/</span> df[<span class="st">'height'</span>])</span>
<span id="cb42-2"><a href="#cb42-2" aria-hidden="true" tabindex="-1"></a>df.head()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="16">
<div>


<table class="dataframe caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">name</th>
<th data-quarto-table-cell-role="th">height</th>
<th data-quarto-table-cell-role="th">mass</th>
<th data-quarto-table-cell-role="th">hair_color</th>
<th data-quarto-table-cell-role="th">eye_color</th>
<th data-quarto-table-cell-role="th">gender</th>
<th data-quarto-table-cell-role="th">homeworld</th>
<th data-quarto-table-cell-role="th">species</th>
<th data-quarto-table-cell-role="th">height_m</th>
<th data-quarto-table-cell-role="th">mass_height_ratio</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">0</td>
<td>Luke Skywalker</td>
<td>172.0</td>
<td>77.0</td>
<td>blond</td>
<td>blue</td>
<td>male</td>
<td>Tatooine</td>
<td>Human</td>
<td>1.72</td>
<td>0.447674</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">1</td>
<td>C-3PO</td>
<td>167.0</td>
<td>75.0</td>
<td>NaN</td>
<td>yellow</td>
<td>NaN</td>
<td>Tatooine</td>
<td>Droid</td>
<td>1.67</td>
<td>0.449102</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">2</td>
<td>R2-D2</td>
<td>96.0</td>
<td>32.0</td>
<td>NaN</td>
<td>red</td>
<td>NaN</td>
<td>Naboo</td>
<td>Droid</td>
<td>0.96</td>
<td>0.333333</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">3</td>
<td>Darth Vader</td>
<td>202.0</td>
<td>136.0</td>
<td>none</td>
<td>yellow</td>
<td>male</td>
<td>Tatooine</td>
<td>Human</td>
<td>2.02</td>
<td>0.673267</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">4</td>
<td>Leia Organa</td>
<td>150.0</td>
<td>49.0</td>
<td>brown</td>
<td>brown</td>
<td>female</td>
<td>Alderaan</td>
<td>Human</td>
<td>1.50</td>
<td>0.326667</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
</section>
<section id="summarise-numerical-values-with-.describe" class="level2">
<h2 class="anchored" data-anchor-id="summarise-numerical-values-with-.describe">Summarise numerical values with <code>.describe()</code></h2>
<div id="cell-62" class="cell" data-execution_count="31">
<div class="sourceCode cell-code" id="cb43"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb43-1"><a href="#cb43-1" aria-hidden="true" tabindex="-1"></a>df.describe()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="31">
<div>


<table class="dataframe caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">height</th>
<th data-quarto-table-cell-role="th">mass</th>
<th data-quarto-table-cell-role="th">height_m</th>
<th data-quarto-table-cell-role="th">mass_height_ratio</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">count</td>
<td>77.000000</td>
<td>58.000000</td>
<td>77.000000</td>
<td>58.000000</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">mean</td>
<td>175.103896</td>
<td>98.162069</td>
<td>1.751039</td>
<td>0.552307</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">std</td>
<td>34.483629</td>
<td>170.810183</td>
<td>0.344836</td>
<td>0.969546</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">min</td>
<td>66.000000</td>
<td>15.000000</td>
<td>0.660000</td>
<td>0.189873</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">25%</td>
<td>167.000000</td>
<td>56.400000</td>
<td>1.670000</td>
<td>0.341837</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">50%</td>
<td>180.000000</td>
<td>79.000000</td>
<td>1.800000</td>
<td>0.434426</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">75%</td>
<td>191.000000</td>
<td>84.750000</td>
<td>1.910000</td>
<td>0.459349</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">max</td>
<td>264.000000</td>
<td>1358.000000</td>
<td>2.640000</td>
<td>7.760000</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
<div id="cell-63" class="cell" data-execution_count="17">
<div class="sourceCode cell-code" id="cb44"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb44-1"><a href="#cb44-1" aria-hidden="true" tabindex="-1"></a>df.describe()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="17">
<div>


<table class="dataframe caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">height</th>
<th data-quarto-table-cell-role="th">mass</th>
<th data-quarto-table-cell-role="th">height_m</th>
<th data-quarto-table-cell-role="th">mass_height_ratio</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">count</td>
<td>77.000000</td>
<td>58.000000</td>
<td>77.000000</td>
<td>58.000000</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">mean</td>
<td>175.103896</td>
<td>98.162069</td>
<td>1.751039</td>
<td>0.552307</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">std</td>
<td>34.483629</td>
<td>170.810183</td>
<td>0.344836</td>
<td>0.969546</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">min</td>
<td>66.000000</td>
<td>15.000000</td>
<td>0.660000</td>
<td>0.189873</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">25%</td>
<td>167.000000</td>
<td>56.400000</td>
<td>1.670000</td>
<td>0.341837</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">50%</td>
<td>180.000000</td>
<td>79.000000</td>
<td>1.800000</td>
<td>0.434426</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">75%</td>
<td>191.000000</td>
<td>84.750000</td>
<td>1.910000</td>
<td>0.459349</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">max</td>
<td>264.000000</td>
<td>1358.000000</td>
<td>2.640000</td>
<td>7.760000</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
</section>
<section id="group-variables-values-with-.groupby" class="level2">
<h2 class="anchored" data-anchor-id="group-variables-values-with-.groupby">Group variables values with <code>.groupby()</code></h2>
<div id="cell-65" class="cell" data-execution_count="32">
<div class="sourceCode cell-code" id="cb45"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb45-1"><a href="#cb45-1" aria-hidden="true" tabindex="-1"></a>df.groupby(<span class="st">"species"</span>)[[<span class="st">"height"</span>, <span class="st">"mass"</span>]].mean()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="32">
<div>


<table class="dataframe caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">height</th>
<th data-quarto-table-cell-role="th">mass</th>
</tr>
<tr class="even">
<th data-quarto-table-cell-role="th">species</th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">Aleena</td>
<td>79.0</td>
<td>15.0</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">Besalisk</td>
<td>198.0</td>
<td>102.0</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">Cerean</td>
<td>198.0</td>
<td>82.0</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">Chagrian</td>
<td>196.0</td>
<td>NaN</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">Clawdite</td>
<td>168.0</td>
<td>55.0</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">...</td>
<td>...</td>
<td>...</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">Vulptereen</td>
<td>94.0</td>
<td>45.0</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">Wookiee</td>
<td>231.0</td>
<td>124.0</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">Xexto</td>
<td>122.0</td>
<td>NaN</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">Yoda's species</td>
<td>66.0</td>
<td>17.0</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">Zabrak</td>
<td>173.0</td>
<td>80.0</td>
</tr>
</tbody>
</table>

<p>37 rows × 2 columns</p>
</div>
</div>
</div>
<div id="cell-66" class="cell" data-execution_count="18">
<div class="sourceCode cell-code" id="cb46"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb46-1"><a href="#cb46-1" aria-hidden="true" tabindex="-1"></a>df.groupby(<span class="st">"species"</span>)[[<span class="st">"height"</span>, <span class="st">"mass"</span>]].mean()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="18">
<div>


<table class="dataframe caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">height</th>
<th data-quarto-table-cell-role="th">mass</th>
</tr>
<tr class="even">
<th data-quarto-table-cell-role="th">species</th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">Aleena</td>
<td>79.0</td>
<td>15.0</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">Besalisk</td>
<td>198.0</td>
<td>102.0</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">Cerean</td>
<td>198.0</td>
<td>82.0</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">Chagrian</td>
<td>196.0</td>
<td>NaN</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">Clawdite</td>
<td>168.0</td>
<td>55.0</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">...</td>
<td>...</td>
<td>...</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">Vulptereen</td>
<td>94.0</td>
<td>45.0</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">Wookiee</td>
<td>231.0</td>
<td>124.0</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">Xexto</td>
<td>122.0</td>
<td>NaN</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">Yoda's species</td>
<td>66.0</td>
<td>17.0</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">Zabrak</td>
<td>173.0</td>
<td>80.0</td>
</tr>
</tbody>
</table>

<p>37 rows × 2 columns</p>
</div>
</div>
</div>
<p><code>dyryajoflcmu Exercise Find the standard deviation (using `std()`) of masses by `homeworld`.</code></p>
<div id="cell-68" class="cell" data-execution_count="19">
<div class="sourceCode cell-code" id="cb47"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb47-1"><a href="#cb47-1" aria-hidden="true" tabindex="-1"></a>df.groupby(<span class="st">'homeworld'</span>)[<span class="st">'mass'</span>].std()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="19">
<pre><code>homeworld
Alderaan          21.213203
Aleen Minor             NaN
Bespin                  NaN
Bestine IV              NaN
Cato Neimoidia          NaN
                    ...    
Troiken                 NaN
Tund                    NaN
Utapau                  NaN
Vulpter                 NaN
Zolan                   NaN
Name: mass, Length: 47, dtype: float64</code></pre>
</div>
</div>
<div id="cell-69" class="cell" data-execution_count="20">
<div class="sourceCode cell-code" id="cb49"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb49-1"><a href="#cb49-1" aria-hidden="true" tabindex="-1"></a>df.groupby(<span class="st">'homeworld'</span>)[<span class="st">'mass'</span>].std()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="20">
<pre><code>homeworld
Alderaan          21.213203
Aleen Minor             NaN
Bespin                  NaN
Bestine IV              NaN
Cato Neimoidia          NaN
                    ...    
Troiken                 NaN
Tund                    NaN
Utapau                  NaN
Vulpter                 NaN
Zolan                   NaN
Name: mass, Length: 47, dtype: float64</code></pre>
</div>
</div>
</section>
<section id="add-transformed-columns-using-.transform" class="level2">
<h2 class="anchored" data-anchor-id="add-transformed-columns-using-.transform">Add transformed columns using <code>.transform()</code></h2>
<p>Quite often, it’s useful to put a column into a dataframe that is the result of an intermediate groupby and aggregation. For example, subtracting the group mean or normalisation. Transform does this and <em>returns a transformed column with the same shape as the original dataframe</em>. Transform preserves the original index. (There are other methods, such as apply, that return a new dataframe with the groupby variables as a new index.)</p>
<p>Below is an example of transform being used to demean a variable according to the mean by species. Note that we are using lambda functions here. Lambda functions are a quick way of writing functions without needing to give them a name, e.g.&nbsp;<code>lambda x: x+1</code> defines a function that adds one to x. In the example below, the <code>x</code> in the lambda function takes on the role of mass grouped by species.</p>
<div id="cell-71" class="cell" data-execution_count="34">
<div class="sourceCode cell-code" id="cb51"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb51-1"><a href="#cb51-1" aria-hidden="true" tabindex="-1"></a>df[<span class="st">"mass_demean_species"</span>] <span class="op">=</span> df.groupby(<span class="st">"species"</span>)[<span class="st">"mass"</span>].transform(<span class="kw">lambda</span> x: x <span class="op">-</span> x.mean())</span>
<span id="cb51-2"><a href="#cb51-2" aria-hidden="true" tabindex="-1"></a>df.head()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="34">
<div>


<table class="dataframe caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">name</th>
<th data-quarto-table-cell-role="th">height</th>
<th data-quarto-table-cell-role="th">mass</th>
<th data-quarto-table-cell-role="th">hair_color</th>
<th data-quarto-table-cell-role="th">eye_color</th>
<th data-quarto-table-cell-role="th">gender</th>
<th data-quarto-table-cell-role="th">homeworld</th>
<th data-quarto-table-cell-role="th">species</th>
<th data-quarto-table-cell-role="th">height_m</th>
<th data-quarto-table-cell-role="th">mass_height_ratio</th>
<th data-quarto-table-cell-role="th">mass_demean_species</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">0</td>
<td>Luke Skywalker</td>
<td>172.0</td>
<td>77.0</td>
<td>blond</td>
<td>blue</td>
<td>male</td>
<td>Tatooine</td>
<td>Human</td>
<td>1.72</td>
<td>0.447674</td>
<td>-5.781818</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">1</td>
<td>C-3PO</td>
<td>167.0</td>
<td>75.0</td>
<td>NaN</td>
<td>yellow</td>
<td>NaN</td>
<td>Tatooine</td>
<td>Droid</td>
<td>1.67</td>
<td>0.449102</td>
<td>5.250000</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">2</td>
<td>R2-D2</td>
<td>96.0</td>
<td>32.0</td>
<td>NaN</td>
<td>red</td>
<td>NaN</td>
<td>Naboo</td>
<td>Droid</td>
<td>0.96</td>
<td>0.333333</td>
<td>-37.750000</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">3</td>
<td>Darth Vader</td>
<td>202.0</td>
<td>136.0</td>
<td>none</td>
<td>yellow</td>
<td>male</td>
<td>Tatooine</td>
<td>Human</td>
<td>2.02</td>
<td>0.673267</td>
<td>53.218182</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">4</td>
<td>Leia Organa</td>
<td>150.0</td>
<td>49.0</td>
<td>brown</td>
<td>brown</td>
<td>female</td>
<td>Alderaan</td>
<td>Human</td>
<td>1.50</td>
<td>0.326667</td>
<td>-33.781818</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
<div id="cell-72" class="cell" data-execution_count="21">
<div class="sourceCode cell-code" id="cb52"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb52-1"><a href="#cb52-1" aria-hidden="true" tabindex="-1"></a>df[<span class="st">"mass_demean_species"</span>] <span class="op">=</span> df.groupby(<span class="st">"species"</span>)[<span class="st">"mass"</span>].transform(<span class="kw">lambda</span> x: x <span class="op">-</span> x.mean())</span>
<span id="cb52-2"><a href="#cb52-2" aria-hidden="true" tabindex="-1"></a>df.head()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="21">
<div>


<table class="dataframe caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">name</th>
<th data-quarto-table-cell-role="th">height</th>
<th data-quarto-table-cell-role="th">mass</th>
<th data-quarto-table-cell-role="th">hair_color</th>
<th data-quarto-table-cell-role="th">eye_color</th>
<th data-quarto-table-cell-role="th">gender</th>
<th data-quarto-table-cell-role="th">homeworld</th>
<th data-quarto-table-cell-role="th">species</th>
<th data-quarto-table-cell-role="th">height_m</th>
<th data-quarto-table-cell-role="th">mass_height_ratio</th>
<th data-quarto-table-cell-role="th">mass_demean_species</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">0</td>
<td>Luke Skywalker</td>
<td>172.0</td>
<td>77.0</td>
<td>blond</td>
<td>blue</td>
<td>male</td>
<td>Tatooine</td>
<td>Human</td>
<td>1.72</td>
<td>0.447674</td>
<td>-5.781818</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">1</td>
<td>C-3PO</td>
<td>167.0</td>
<td>75.0</td>
<td>NaN</td>
<td>yellow</td>
<td>NaN</td>
<td>Tatooine</td>
<td>Droid</td>
<td>1.67</td>
<td>0.449102</td>
<td>5.250000</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">2</td>
<td>R2-D2</td>
<td>96.0</td>
<td>32.0</td>
<td>NaN</td>
<td>red</td>
<td>NaN</td>
<td>Naboo</td>
<td>Droid</td>
<td>0.96</td>
<td>0.333333</td>
<td>-37.750000</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">3</td>
<td>Darth Vader</td>
<td>202.0</td>
<td>136.0</td>
<td>none</td>
<td>yellow</td>
<td>male</td>
<td>Tatooine</td>
<td>Human</td>
<td>2.02</td>
<td>0.673267</td>
<td>53.218182</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">4</td>
<td>Leia Organa</td>
<td>150.0</td>
<td>49.0</td>
<td>brown</td>
<td>brown</td>
<td>female</td>
<td>Alderaan</td>
<td>Human</td>
<td>1.50</td>
<td>0.326667</td>
<td>-33.781818</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
<p><code>dyryajoflcmu Exercise Create a `height_demean_homeworld` column that gives the height column with the mean height by homeworld subtracted.</code></p>
</section>
<section id="make-quick-charts-with-.plot." class="level2">
<h2 class="anchored" data-anchor-id="make-quick-charts-with-.plot.">Make quick charts with <code>.plot.*()</code></h2>
<p>Including scatter, area, bar, box, density, hexbin, histogram, kde, and line.</p>
<div id="cell-75" class="cell" data-execution_count="42">
<div class="sourceCode cell-code" id="cb53"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb53-1"><a href="#cb53-1" aria-hidden="true" tabindex="-1"></a>df.plot.scatter(<span class="st">"mass"</span>, <span class="st">"height"</span>, alpha<span class="op">=</span><span class="fl">0.5</span>)<span class="op">;</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="Lecture1-data-analysis-quickstart_files/figure-html/cell-50-output-1.svg" class="img-fluid figure-img"></p>
</figure>
</div>
</div>
</div>
<div id="cell-76" class="cell" data-execution_count="22">
<div class="sourceCode cell-code" id="cb54"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb54-1"><a href="#cb54-1" aria-hidden="true" tabindex="-1"></a>df.plot.scatter(<span class="st">"mass"</span>, <span class="st">"height"</span>, alpha<span class="op">=</span><span class="fl">0.5</span>)<span class="op">;</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="Lecture1-data-analysis-quickstart_files/figure-html/cell-51-output-1.svg" class="img-fluid figure-img"></p>
</figure>
</div>
</div>
</div>
<div id="cell-77" class="cell" data-execution_count="43">
<div class="sourceCode cell-code" id="cb55"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb55-1"><a href="#cb55-1" aria-hidden="true" tabindex="-1"></a>df.plot.box(column<span class="op">=</span><span class="st">"height"</span>)<span class="op">;</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="Lecture1-data-analysis-quickstart_files/figure-html/cell-52-output-1.svg" class="img-fluid figure-img"></p>
</figure>
</div>
</div>
</div>
<div id="cell-78" class="cell" data-execution_count="23">
<div class="sourceCode cell-code" id="cb56"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb56-1"><a href="#cb56-1" aria-hidden="true" tabindex="-1"></a>df.plot.box(column<span class="op">=</span><span class="st">"height"</span>)<span class="op">;</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="Lecture1-data-analysis-quickstart_files/figure-html/cell-53-output-1.svg" class="img-fluid figure-img"></p>
</figure>
</div>
</div>
</div>
<div id="cell-79" class="cell" data-execution_count="25">
<div class="sourceCode cell-code" id="cb57"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb57-1"><a href="#cb57-1" aria-hidden="true" tabindex="-1"></a><span class="op">%</span>pip install scipy</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Requirement already satisfied: scipy in e:\anaconda\lib\site-packages (1.13.1)
Requirement already satisfied: numpy&lt;2.3,&gt;=1.22.4 in e:\anaconda\lib\site-packages (from scipy) (1.26.4)
Note: you may need to restart the kernel to use updated packages.</code></pre>
</div>
</div>
<div id="cell-80" class="cell" data-execution_count="24">
<div class="sourceCode cell-code" id="cb59"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb59-1"><a href="#cb59-1" aria-hidden="true" tabindex="-1"></a><span class="op">%</span>pip install scipy</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Requirement already satisfied: scipy in e:\anaconda\lib\site-packages (1.13.1)
Requirement already satisfied: numpy&lt;2.3,&gt;=1.22.4 in e:\anaconda\lib\site-packages (from scipy) (1.26.4)
Note: you may need to restart the kernel to use updated packages.</code></pre>
</div>
</div>
<div id="cell-81" class="cell" data-execution_count="46">
<div class="sourceCode cell-code" id="cb61"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb61-1"><a href="#cb61-1" aria-hidden="true" tabindex="-1"></a>df[<span class="st">"height"</span>].plot.kde(bw_method<span class="op">=</span><span class="fl">0.3</span>)<span class="op">;</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="Lecture1-data-analysis-quickstart_files/figure-html/cell-56-output-1.svg" class="img-fluid figure-img"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="export-results-and-descriptive-statistics" class="level2">
<h2 class="anchored" data-anchor-id="export-results-and-descriptive-statistics">Export results and descriptive statistics</h2>
<p>You’ll often want to export your results to a latex file for inclusion in a paper, presentation, or poster. Let’s say we had some descriptive statistics on a dataframe:</p>
<div id="cell-83" class="cell" data-execution_count="48">
<div class="sourceCode cell-code" id="cb62"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb62-1"><a href="#cb62-1" aria-hidden="true" tabindex="-1"></a>table <span class="op">=</span> df[[<span class="st">"mass"</span>, <span class="st">"height"</span>]].agg([<span class="st">'mean'</span>, <span class="st">'std'</span>])</span>
<span id="cb62-2"><a href="#cb62-2" aria-hidden="true" tabindex="-1"></a>table</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="48">
<div>


<table class="dataframe caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">mass</th>
<th data-quarto-table-cell-role="th">height</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">mean</td>
<td>98.162069</td>
<td>175.103896</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">std</td>
<td>170.810183</td>
<td>34.483629</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
<div id="cell-84" class="cell" data-execution_count="26">
<div class="sourceCode cell-code" id="cb63"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb63-1"><a href="#cb63-1" aria-hidden="true" tabindex="-1"></a>table <span class="op">=</span> df[[<span class="st">"mass"</span>, <span class="st">"height"</span>]].agg([<span class="st">'mean'</span>, <span class="st">'std'</span>])</span>
<span id="cb63-2"><a href="#cb63-2" aria-hidden="true" tabindex="-1"></a>table</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="26">
<div>


<table class="dataframe caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">mass</th>
<th data-quarto-table-cell-role="th">height</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">mean</td>
<td>98.162069</td>
<td>175.103896</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">std</td>
<td>170.810183</td>
<td>34.483629</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
<p>You can export this to a range of formats, including string, html, xml, markdown, the <em>clipboard</em> (so you can paste it), Excel, and more. In your favourite IDE (integrated development environment) with a Python language server (eg Visual Studio Code, JupyterLab) start typing <code>table.to</code> and a list of possible methods beginning <code>to</code> should appear, including <code>to_string()</code>.</p>
<p>Here is an example of exporting your <strong>pandas</strong> table to CSV (comma separated values):</p>
<div id="cell-86" class="cell" data-execution_count="49">
<div class="sourceCode cell-code" id="cb64"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb64-1"><a href="#cb64-1" aria-hidden="true" tabindex="-1"></a>table.to_csv()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="49">
<pre><code>',mass,height\nmean,98.16206896551724,175.1038961038961\nstd,170.81018276436322,34.483628615842896\n'</code></pre>
</div>
</div>
<div id="cell-87" class="cell" data-execution_count="27">
<div class="sourceCode cell-code" id="cb66"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb66-1"><a href="#cb66-1" aria-hidden="true" tabindex="-1"></a>table.to_csv()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="27">
<pre><code>',mass,height\r\nmean,98.16206896551724,175.1038961038961\r\nstd,170.8101827643632,34.483628615842896\r\n'</code></pre>
</div>
</div>
<p>One output format that doesn’t conform to this is <em>LaTeX</em>, for which you need the following:</p>
<p>Writing to the terminal isn’t that useful for getting your paper or report done! To export to a file, use <code>table.style.to_latex('file.tex', ...)</code> for LaTeX and <code>table.to_csv('file.csv', ...)</code>.</p>
<p>``<code>dyryajoflcmu Exercise Try exporting the table above using the</code>to_string(“table.txt”)` method.</p>
<p>If you are running this locally, the file should appear in the directory in which you are running this notebook.</p>
<p>If you are using Google Colab to do these exercises, you can check that the file exported by running <code>!ls</code> in a new code cell to see all files in the current notebook directory. To get the contents of the file you created, run <code>!cat table.txt</code>. ```</p>
</section>
<section id="summary" class="level2">
<h2 class="anchored" data-anchor-id="summary">Summary</h2>
<p>This has been a quick tour of what <strong>pandas</strong> can do, and shows the power of this ubiquitous tool, but we’ve barely seen a fraction of its features. The next chapter will go deeper into how to use <strong>pandas</strong>.</p>


</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const onCopySuccess = function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  }
  const getTextToCopy = function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
    text: getTextToCopy
  });
  clipboard.on('success', onCopySuccess);
  if (window.document.getElementById('quarto-embedded-source-code-modal')) {
    const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
      text: getTextToCopy,
      container: window.document.getElementById('quarto-embedded-source-code-modal')
    });
    clipboardModal.on('success', onCopySuccess);
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp('/' + window.location.host + '/');
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->




</body></html>